import{k as C,al as F,S as _,am as Q,I as V,ad as J,an as X,ao as K,Y as Z,D as Y,v as T,n as v,f as k,s as ee,M as te}from"./acTAl3uS.js";let ie;function ne(){return ie}function re(e){return typeof e=="function"?e():C(e)}function E(e,t=""){if(e instanceof Promise)return e;const n=re(e);return!e||!n?n:Array.isArray(n)?n.map(i=>E(i,t)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([i,r])=>i==="titleTemplate"||i.startsWith("on")?[i,C(r)]:[i,E(r,i)])):n}const oe="usehead",P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L="__unhead_injection_handler__";function se(){if(L in P)return P[L]();const e=F(oe);return e||ne()}function ae(e,t={}){const n=t.head||se();if(n)return n.ssr?n.push(e,t):ce(n,e,t)}function ce(e,t,n={}){const i=_(!1),r=_({});Q(()=>{r.value=i.value?{}:E(t)});const o=e.push(r.value,n);return V(r,c=>{o.patch(c)}),Z()&&(J(()=>{o.dispose()}),X(()=>{i.value=!0}),K(()=>{i.value=!1})),o}function b(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function j(e,t,n=".",i){if(!b(t))return j(e,{},n,i);const r=Object.assign({},t);for(const o in e){if(o==="__proto__"||o==="constructor")continue;const s=e[o];s!=null&&(i&&i(r,o,s,n)||(Array.isArray(s)&&Array.isArray(r[o])?r[o]=[...s,...r[o]]:b(s)&&b(r[o])?r[o]=j(s,r[o],(n?`${n}.`:"")+o.toString(),i):r[o]=s))}return r}function fe(e){return(...t)=>t.reduce((n,i)=>j(n,i,"",e),{})}const H=fe(),le=/#/g,de=/&/g,ue=/\//g,he=/=/g,ge=/\+/g,me=/%5e/gi,pe=/%60/gi,ye=/%7c/gi,ve=/%20/gi;function we(e){return encodeURI(""+e).replace(ye,"|")}function A(e){return we(typeof e=="string"?e:JSON.stringify(e)).replace(ge,"%2B").replace(ve,"+").replace(le,"%23").replace(de,"%26").replace(pe,"`").replace(me,"^").replace(ue,"%2F")}function S(e){return A(e).replace(he,"%3D")}function _e(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${S(e)}=${A(n)}`).join("&"):`${S(e)}=${A(t)}`:S(e)}const be=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Se=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Ee=/^([/\\]\s*){2,}[^/\\]/,je=/^\.?\//;function R(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?be.test(e):Se.test(e)||(t.acceptRelative?Ee.test(e):!1)}function Ae(e="",t){return e.endsWith("/")?e:e+"/"}function Re(e=""){return e.startsWith("/")}function Ie(e=""){return Re(e)?e:"/"+e}function Oe(e){return e&&e!=="/"}function $e(e,...t){let n=e||"";for(const i of t.filter(r=>Oe(r)))if(n){const r=i.replace(je,"");n=Ae(n)+r}else n=i;return n}const ze=Symbol.for("ufo:protocolRelative");function U(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,y=""]=n;return{protocol:d.toLowerCase(),pathname:y,href:d+y,auth:"",host:"",search:"",hash:""}}if(!R(e,{acceptRelative:!0}))return t?U(t+e):M(e);const[,i="",r,o=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,s="",c=""]=o.match(/([^#/?]*)(.*)?/)||[],{pathname:f,search:l,hash:h}=M(c.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:i.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:s,pathname:f,search:l,hash:h,[ze]:!i}}function M(e=""){const[t="",n="",i=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:i}}async function Pe(e,t){return await Le(t).catch(i=>(console.error("Failed to get image meta for "+t,i+""),{width:0,height:0,ratio:0}))}async function Le(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,n)=>{const i=new Image;i.onload=()=>{const r={width:i.width,height:i.height,ratio:i.width/i.height};t(r)},i.onerror=r=>n(r),i.src=e})}function N(e){return t=>t?e[t]||t:e.missingValue}function Me({formatter:e,keyMap:t,joinWith:n="/",valueMap:i}={}){e||(e=(o,s)=>`${o}=${s}`),t&&typeof t!="function"&&(t=N(t));const r=i||{};return Object.keys(r).forEach(o=>{typeof r[o]!="function"&&(r[o]=N(r[o]))}),(o={})=>Object.entries(o).filter(([c,f])=>typeof f<"u").map(([c,f])=>{const l=r[c];return typeof l=="function"&&(f=l(o[c])),c=typeof t=="function"?t(c):c,e(c,f)}).join(n)}function m(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function Ne(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const n of e.split(" ")){const i=Number.parseInt(n.replace("x",""));i&&t.add(i)}return Array.from(t)}function We(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function xe(e){const t={};if(typeof e=="string")for(const n of e.split(/[\s,]+/).filter(i=>i)){const i=n.split(":");i.length!==2?t["1px"]=i[0].trim():t[i[0].trim()]=i[1].trim()}else Object.assign(t,e);return t}function Ce(e){const t={options:e},n=(r,o={})=>D(t,r,o),i=(r,o={},s={})=>n(r,{...s,modifiers:H(o,s.modifiers||{})}).url;for(const r in e.presets)i[r]=(o,s,c)=>i(o,s,{...e.presets[r],...c});return i.options=e,i.getImage=n,i.getMeta=(r,o)=>Te(t,r,o),i.getSizes=(r,o)=>De(t,r,o),t.$img=i,i}async function Te(e,t,n){const i=D(e,t,{...n});return typeof i.getMeta=="function"?await i.getMeta():await Pe(e,i.url)}function D(e,t,n){var l,h;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:i,defaults:r}=He(e,n.provider||e.options.provider),o=Ue(e,n.preset);if(t=R(t)?t:Ie(t),!i.supportsAlias)for(const d in e.options.alias)t.startsWith(d)&&(t=$e(e.options.alias[d],t.substr(d.length)));if(i.validateDomains&&R(t)){const d=U(t).host;if(!e.options.domains.find(y=>y===d))return{url:t}}const s=H(n,o,r);s.modifiers={...s.modifiers};const c=s.modifiers.format;(l=s.modifiers)!=null&&l.width&&(s.modifiers.width=m(s.modifiers.width)),(h=s.modifiers)!=null&&h.height&&(s.modifiers.height=m(s.modifiers.height));const f=i.getImage(t,s,e);return f.format=f.format||c||"",f}function He(e,t){const n=e.options.providers[t];if(!n)throw new Error("Unknown provider: "+t);return n}function Ue(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function De(e,t,n){var g,I,O,$,z;const i=m((g=n.modifiers)==null?void 0:g.width),r=m((I=n.modifiers)==null?void 0:I.height),o=xe(n.sizes),s=(O=n.densities)!=null&&O.trim()?Ne(n.densities.trim()):e.options.densities;We(s);const c=i&&r?r/i:0,f=[],l=[];if(Object.keys(o).length>=1){for(const u in o){const p=W(u,String(o[u]),r,c,e);if(p!==void 0){f.push({size:p.size,screenMaxWidth:p.screenMaxWidth,media:`(max-width: ${p.screenMaxWidth}px)`});for(const w of s)l.push({width:p._cWidth*w,src:x(e,t,n,p,w)})}}Be(f)}else for(const u of s){const p=Object.keys(o)[0];let w=W(p,String(o[p]),r,c,e);w===void 0&&(w={size:"",screenMaxWidth:0,_cWidth:($=n.modifiers)==null?void 0:$.width,_cHeight:(z=n.modifiers)==null?void 0:z.height}),l.push({width:u,src:x(e,t,n,w,u)})}qe(l);const h=l[l.length-1],d=f.length?f.map(u=>`${u.media?u.media+" ":""}${u.size}`).join(", "):void 0,y=d?"w":"x",a=l.map(u=>`${u.src} ${u.width}${y}`).join(", ");return{sizes:d,srcset:a,src:h==null?void 0:h.src}}function W(e,t,n,i,r){const o=r.options.screens&&r.options.screens[e]||Number.parseInt(e),s=t.endsWith("vw");if(!s&&/^\d+$/.test(t)&&(t=t+"px"),!s&&!t.endsWith("px"))return;let c=Number.parseInt(t);if(!o||!c)return;s&&(c=Math.round(c/100*o));const f=i?Math.round(c*i):n;return{size:t,screenMaxWidth:o,_cWidth:c,_cHeight:f}}function x(e,t,n,i,r){return e.$img(t,{...n.modifiers,width:i._cWidth?i._cWidth*r:void 0,height:i._cHeight?i._cHeight*r:void 0},n)}function Be(e){var n;e.sort((i,r)=>i.screenMaxWidth-r.screenMaxWidth);let t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.media===t&&e.splice(i,1),t=r.media}for(let i=0;i<e.length;i++)e[i].media=((n=e[i+1])==null?void 0:n.media)||""}function qe(e){e.sort((n,i)=>n.width-i.width);let t=null;for(let n=e.length-1;n>=0;n--){const i=e[n];i.width===t&&e.splice(n,1),t=i.width}}const B=Me({keyMap:{width:"w",height:"h",format:"fm",quality:"q",position:"position",fit:"fit"},valueMap:{fit:{fill:"fill",cover:"cover",contain:"contain"},format:{avif:"avif",gif:"gif",jpg:"jpg",jpeg:"jpg",png:"png",webp:"webp"},position:{top:"top",right:"right",bottom:"bottom",left:"left",center:"center"}},joinWith:"&",formatter:(e,t)=>_e(e,t)}),Ge=(e,{modifiers:t={},baseURL:n}={})=>{const i={...t};i.url=e,t.width&&(i.width=t.width.toString()),t.height&&(i.height=t.height.toString());const r=B(i);return{url:`${n||"/.netlify/images"}?${r}`}},Fe=Object.freeze(Object.defineProperty({__proto__:null,getImage:Ge,operationsGenerator:B},Symbol.toStringTag,{value:"Module"})),q={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"netlify",domains:[],alias:{},densities:[1,2],format:["webp"]};q.providers={netlify:{provider:Fe,defaults:{}}};const G=()=>{const e=Y(),t=T();return t.$img||t._img||(t._img=Ce({...q,nuxt:{baseURL:e.app.baseURL}}))};function Qe(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const Ve={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},Je=e=>{const t=v(()=>({provider:e.provider,preset:e.preset})),n=v(()=>({width:m(e.width),height:m(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),i=G(),r=v(()=>({...e.modifiers,width:m(e.width),height:m(e.height),format:e.format,quality:e.quality||i.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:n,modifiers:r}},Xe={...Ve,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},Ze=k({name:"NuxtImg",props:Xe,emits:["load","error"],setup:(e,t)=>{const n=G(),i=Je(e),r=_(!1),o=_(),s=v(()=>n.getSizes(e.src,{...i.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...i.modifiers.value,width:m(e.width),height:m(e.height)}})),c=v(()=>{const a={...i.attrs.value,"data-nuxt-img":""};return(!e.placeholder||r.value)&&(a.sizes=s.value.sizes,a.srcset=s.value.srcset),a}),f=v(()=>{let a=e.placeholder;if(a===""&&(a=!0),!a||r.value)return!1;if(typeof a=="string")return a;const g=Array.isArray(a)?a:typeof a=="number"?[a,a]:[10,10];return n(e.src,{...i.modifiers.value,width:g[0],height:g[1],quality:g[2]||50,blur:g[3]||3},i.options.value)}),l=v(()=>e.sizes?s.value.src:n(e.src,i.modifiers.value,i.options.value)),h=v(()=>f.value?f.value:l.value);if(e.preload){const a=Object.values(s.value).every(g=>g);ae({link:[{rel:"preload",as:"image",nonce:e.nonce,...a?{href:s.value.src,imagesizes:s.value.sizes,imagesrcset:s.value.srcset}:{href:h.value},...typeof e.preload!="boolean"&&e.preload.fetchPriority?{fetchpriority:e.preload.fetchPriority}:{}}]})}const y=T().isHydrating;return ee(()=>{if(f.value){const a=new Image;a.src=l.value,e.sizes&&(a.sizes=s.value.sizes||"",a.srcset=s.value.srcset),a.onload=g=>{r.value=!0,t.emit("load",g)},Qe("nuxt-image");return}o.value&&(o.value.complete&&y&&(o.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),o.value.onload=a=>{t.emit("load",a)},o.value.onerror=a=>{t.emit("error",a)})}),()=>te("img",{ref:o,...c.value,...t.attrs,class:e.placeholder&&!r.value?[e.placeholderClass]:void 0,src:h.value})}});export{Ze as _};
