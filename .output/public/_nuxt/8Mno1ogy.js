import B from"./XIgi3NvZ.js";import{_ as M}from"./ChoT5QJB.js";import{f as N,i as A,j,u as H,o as c,c as v,a as n,t as p,k as o,l as I,m as k,b as O,w as V}from"./acTAl3uS.js";import{u as q}from"./BDHcVqZw.js";import{q as L}from"./DipYG4pL.js";import"./DKtO6K8a.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./COuvC_4m.js";const D={class:"w-full px-4"},E={class:"my-4 font-display text-5xl uppercase text-amber-600 lg:my-3 lg:text-7xl"},P={class:"w-full lg:w-7/12"},R={key:0,class:"mt-8 flex w-full flex-row justify-end px-0 lg:mt-12 lg:px-8"},S={class:"font-display text-xl font-medium text-white lg:text-3xl"},J=n("br",null,null,-1),T={class:"font-sans text-base/snug italic text-amber-300 md:text-lg"},et=N({__name:"[permalink]",async setup(W){var u,d,_,g,y,h,x;let e,s;const{path:m,params:a}=A(),{data:t}=([e,s]=j(()=>q("get-document",()=>L("/blog").where({permalink:`${a==null?void 0:a.permalink}`}).findOne())),e=await e,s(),e),i=([e,s]=j(()=>{var l;return L("/blog").where({date:{$lt:(l=t.value)==null?void 0:l.date}}).sort({_id:-1}).findOne()}),e=await e,s(),e),r=(u=t.value)!=null&&u.title?`${(d=t.value)==null?void 0:d.title} | Le blog du Macojaune`:"Le blog du Macojaune";return H({title:r,meta:[{name:"title",content:r+" | Le blog du Macojaune"},{name:"description",content:(_=t.value)==null?void 0:_.description},{property:"og:type",content:"website"},{property:"og:url",content:`https://macojaune.com${m}`},{property:"og:title",content:r},{property:"og:description",content:(g=t.value)==null?void 0:g.description},{property:"og:image",content:`https://macojaune.com/${(y=t.value)==null?void 0:y.image}`},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:url",content:`https://macojaune.com${m}`},{property:"twitter:title",content:r+" | Le blog du Macojaune"},{property:"twitter:description",content:(h=t.value)==null?void 0:h.description},{property:"twitter:image",content:`https://macojaune.com/${(x=t.value)==null?void 0:x.image}`}],script:[{type:"application/ld+json",innerHTML:JSON.stringify({"@context":"http://schema.org/","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":"https://macojaune.com",name:"Homepage"}},{"@type":"ListItem",position:2,item:{"@id":"https://macojaune.com/blog/",name:"Blog"}},{"@type":"ListItem",position:3,item:{"@id":"https://macojaune.com/blog/"+a.permalink,name:a.permalink}}]})}]}),(l,z)=>{var f;const $=B,C=M;return c(),v("div",D,[n("div",null,[n("h1",E,p(((f=o(t))==null?void 0:f.title)??""),1),n("div",P,[o(t)?(c(),I($,{key:0,class:"text-white",value:o(t)},null,8,["value"])):k("",!0)])]),o(i)?(c(),v("div",R,[O(C,{href:`/blog/${o(i).permalink}`,class:"w-1/2 text-right md:w-auto"},{default:V(()=>{var w,b;return[n("span",S,p((b=(w=o(i))==null?void 0:w.title)!=null&&b.toLowerCase().startsWith("[projet]")?"Projet":"Article")+" suivant",1),J,n("span",T,p(o(i).title),1)]}),_:1},8,["href"])])):k("",!0)])}}});export{et as default};
