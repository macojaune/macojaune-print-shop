import{_ as N}from"./DKtO6K8a.js";import{_ as M}from"./m75asj6d.js";import{M as q}from"./KGRcU5QF.js";import{_ as B}from"./ChoT5QJB.js";import S from"./XIgi3NvZ.js";import{f as D,i as H,j as I,u as O,o as a,c as o,b as r,w as b,a as i,d as p,t as c,k as s,H as R,F as V,r as E,l as z,m as l}from"./acTAl3uS.js";import{q as A}from"./DipYG4pL.js";import{h as k}from"./C5S46NFB.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./COuvC_4m.js";const F={class:"serie-page px-4"},T={class:"content"},J={class:"mt-6 mb-3 text-5xl uppercase text-amber-500 font-display"},P={class:"font-sans text-sm text-white"},U={key:1,class:"text-2xl text-center text-amber-400 font-semibold"},G={class:"mt-2 text-2xl text-center text-white font-display",itemprop:"name"},K=i("br",null,null,-1),Q={key:0,class:"font-sans text-base text-caption text-decoration-line-through",itemprop:"availability",href:"http://schema.org/InStock"},W={key:1,class:"font-bold text-red-500",itemprop:"availability",href:"http://schema.org/OutOfStock"},X={key:0,class:"flex justify-center pt-4"},Y=["data-item-id","data-item-name","data-item-price","data-item-image","data-item-max-quantity","data-item-url"],dt=D({__name:"index",async setup(Z){var _,h,g,y;let m,d;k.locale("fr");const n=H(),t=([m,d]=I(()=>A("runs").where({slug:n.params.slug}).findOne()),m=await m,d(),m),u="Série photo "+t.title+" - Macojaune.com";O({title:u,meta:[{name:"title",content:u},{name:"description",content:t.description},{property:"og:type",content:"website"},{property:"og:url",content:`https://macojaune.com${n.path}`},{property:"og:title",content:`Découvre la série ${t.title} sur le site de @macojaune`},{property:"og:description",content:t.description},{property:"og:image",content:`https://macojaune.com/pictures/${(h=(_=t==null?void 0:t.products)==null?void 0:_[0].images)==null?void 0:h[0]}`},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:url",content:`https://macojaune.com${n.path}`},{property:"twitter:title",content:`Découvre la série ${t.title} sur le site de @macojaune`},{property:"twitter:description",content:t.description},{property:"twitter:image",content:`https://macojaune.com/pictures/${(y=(g=t==null?void 0:t.products)==null?void 0:g[0].images)==null?void 0:y[0]}`}],script:[{type:"application/ld+json",innerHTML:JSON.stringify({"@context":"http://schema.org/","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":"https://macojaune.com",name:"Homepage"}},{"@type":"ListItem",position:2,item:{"@id":"https://macojaune.com"+n.fullPath,name:t.title}}]})}]});const w=x=>k(x).format("ll");return(x,tt)=>{const v=N,j=M,f=q,$=B,C=S;return a(),o("div",F,[r(C,{value:s(t)},{default:b(()=>[i("div",T,[i("h1",J,[p(c(s(t).title),1),i("small",P,c(w(s(t).date)),1)]),r(v,{class:"text-white text-lg text-base md:text-lg",value:s(t)},null,8,["value"]),i("div",{class:R(["picture-list my-6 grid grid-flow-row-dense gap-4 justify-evenly items-end",`grid-cols-1 ${s(t).products.length>2?"md:grid-cols-3":"md:grid-cols-2"}`])},[(a(!0),o(V,null,E(s(t).products,(e,L)=>(a(),o("div",{class:"picture",key:L},[r($,{to:e.slug},{default:b(()=>[e.images?(a(),z(j,{key:0,class:"primary border-radius mb-2",src:`${e.images[0]}`,sizes:"xs:100vw lg:500px",format:"webp",quality:"60",itemprop:"image",alt:e.title},null,8,["src","alt"])):l("",!0),e.price?(a(),o("p",U,[p(c(e.price)+"€",1),r(f,{itemprop:"price",content:e.price},null,8,["content"]),r(f,{itemprop:"priceCurrency",content:"EUR"})])):l("",!0),i("p",G,[p(c(e.title),1),K,e.stock>0?(a(),o("span",Q,"Édition limitée à "+c(e.stock)+" exemplaires",1)):(a(),o("span",W,"Épuisé"))])]),_:2},1032,["to"]),e.stock>0&&e.price?(a(),o("div",X,[i("button",{class:"snipcart-add-item px-8 py-2 rounded bg-yellow-400 text-black font-bold hover:bg-amber-400 active:bg-amber-500","data-item-id":e.sku,"data-item-name":e.title,"data-item-price":e.price,"data-item-image":`${e.images[0]}`,"data-item-max-quantity":e.stock,"data-item-url":`https://macojaune.com${s(n).path}/${e.slug}`},"Acheter",8,Y)])):l("",!0)]))),128))],2)])]),_:1},8,["value"])])}}});export{dt as default};
